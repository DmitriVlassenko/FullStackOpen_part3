{"version":3,"sources":["services/notes.js","components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","App.js","index.js"],"names":["baseUrl","noteService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deletePerson","delete","Person","person","persons","setPersons","setMessage","name","number","type","onClick","window","confirm","filter","catch","error","Persons","map","Filter","props","placeholder","value","search","onChange","inputFilter","PersonForm","onSubmit","addName","newName","nameChange","phoneNumber","App","useState","setNewName","setNumber","setSearch","message","badError","setBadError","filteredList","toLowerCase","includes","useEffect","Notification","setTimeout","className","event","target","preventDefault","nameObject","duplicate","find","alert","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ea0cbc9b.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst noteService = { getAll, create, update, deletePerson }\nexport default noteService","import noteService from \"../services/notes\";\n\nconst Person = ({ person, persons, setPersons, setMessage }) => {\n    const removeFromList = id => {\n        if (window.confirm(`Are you sure you want to delete ${person.name} ?`))\n            noteService.deletePerson(id)\n                .then(() => {\n                    setPersons(persons.filter(person => person.id !== id))\n                })\n                .catch(error => {\n                    setMessage(`${person.name} was already deleted`)\n                })\n    }\n\n    return (\n        <li>{person.name} {person.number}\n        <button type={\"button\"} onClick={() => removeFromList(person.id)}>X</button>\n        </li>\n    )\n}\n\nexport default Person","import Person from \"./Person\";\n\nconst Persons = ({persons, setPersons, setMessage}) => {\n    return (\n        <div>\n            <ul>\n                {persons.map((person) => <Person key={person.name} person={person} persons={persons} setPersons={setPersons} setMessage={setMessage}/>)}\n            </ul>\n        </div>\n    )\n}\n\nexport default Persons","const Filter = (props) => {\n    return (\n        <div>\n            <h3>filter shown with\n            <input type={\"text\"} placeholder={\"search\"} value={props.search} onChange={props.inputFilter}/>\n            </h3>\n        </div>\n)\n}\n\nexport default Filter","const PersonForm = (props) => {\n    return (\n        <div>\n            <form onSubmit={props.addName}>\n                <div>\n                    name: <input value={props.newName} onChange={props.nameChange}/>\n                </div>\n                <div>\n                    number: <input value={props.number} onChange={props.phoneNumber}/>\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport noteService from \"./services/notes\"\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ number, setNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ badError, setBadError ] = useState(null)\n  const filteredList = search === '' ? persons : persons.filter((person) =>\n      ((person.name.toLowerCase().includes(search.toLowerCase())) || (person.number.includes(search))))\n\n    useEffect(() => {\n        noteService.getAll().then(response => setPersons(response))\n    }, [])\n\n    const addName = (event) => {\n        event.preventDefault()\n        const nameObject = {\n            name: newName,\n            number: number,\n        }\n        const duplicate = persons.find(person => person.name === nameObject.name)\n        if (duplicate) {\n            if (window.confirm(`${nameObject.name} is already added to phonebook, replace the old number with a new one ?`)) {\n                noteService.update(duplicate.id, nameObject)\n                .then(response => {\n                    setPersons(persons.map(person => person.id === duplicate.id ? response : person))\n                    setNewName('')\n                    setNumber('')\n                    setMessage(`${nameObject.name} successfully changed`)\n                })\n                .catch(error => {\n                    setBadError(true)\n                    setMessage(error.response.data.error)\n                })\n            }\n        }\n        else if (persons.find((person) => person.number === nameObject.number)) {\n            alert(`${nameObject.number} is already added to phonebook`)\n            setNumber('')\n        }\n        else if (!nameObject.name || !nameObject.number) {\n            alert(`Fill name and phone number please`)\n        }\n        else {\n            noteService.create(nameObject)\n            .then(() => {\n                setPersons(persons.concat(nameObject))\n                setNewName('')\n                setNumber('')\n                setMessage(`Added ${nameObject.name}`)\n            })\n            .catch(error => {\n                setBadError(true)\n                setMessage(error.response.data.error)\n            })\n        }\n    }\n\n    const Notification = ({message , badError}) => {\n      if (message === null) {\n          return null\n      }\n        setTimeout(() => {\n            setMessage(null)\n            setBadError(null)\n        }, 5000)\n        if (message.includes(\"deleted\") || badError) {\n            return (\n                <div className={\"badError\"}>{message}</div>\n            )\n        }\n          return (\n              <div className={\"success\"}>{message}</div>\n      )\n    }\n\n    const nameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const phoneNumber = (event) => {\n      setNumber(event.target.value)\n    }\n\n    const inputFilter = (event) => {\n      setSearch(event.target.value)\n    }\n\n  return (\n      <div className={\"App\"}>\n          <h2>Phonebook</h2>\n          <Notification message={message} badError={badError} />\n          <Filter search={search} inputFilter={inputFilter}/>\n          <h3>add a new</h3>\n          <PersonForm addName={addName} newName={newName} number={number} nameChange={nameChange} phoneNumber={phoneNumber} />\n          <h3>Numbers</h3>\n          <Persons persons={filteredList} setPersons={setPersons} setMessage={setMessage}/>\n      </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}